---
layout: post
title: "OSPF LSA's, Area Types, Network Types and Timers"
date: 2014-12-14 22:41:32 +0200
comments: true
categories: cisco networking
---
{% img left /images/blog_posts/ospf.png %}

My shortish summarized version of the OSPF Link State Advertisements, Area Types, Network Types and Timers.
<!--more-->
<br>
<br>
<br>

###OSPF Link State Advertisements (LSA's):
<br>
 LSA |      Name     |                 Description                 |                       Area                       
:---:|:-------------|:-------------------------------------------|:------------------------------------------------
 1   | Router LSA    |  Generated by Any router for any/all links  |                    Intra-area                    
 2   | Network LSA   |   Generated by a DR only for DR-used-links  |                    Intra-area                    
 3   | Summary LSA   |    Generated by ABRs to summarize 1 & 2's   |                    Inter-area                    
 4   | ASBR Summary  | Generated by ABRs to summarize NH of Type 5 |                    Inter-area                    
 5   | External LSA  |              Generated by ASBR              |        Domain-wide (other than stub areas)       
 7   | NSSA External |   Generated by ASBR specific to NSSA area   | NSSA only - Translated to Type 5 for other areas

<br>
**1** - Originated by all routers to tell the other routers in the area about their connected links.

**2** - Originated by the DR in the area. Simplifies the graph of the area when there are multiple routers on the same segment.

**3** - Originated by the ABR. Describes routes in other areas.

**4** - Originated by the ABR. Describes inter-area reachability to a router that performed redistribution.

**5** - Originated by the ASBR that performs the redistribution. Describes redistributed routes from another protocol.

**7** - Originated by the ASBR, but ONLY applies to NSSA external areas. (Converted to type 5 LSA when the ABR of the NSSA originates them into area 0) 

<br>
LSA |    Area    | RIB Indentifier 
:---:|:----------:|:---------------:
 1   | Intra-area |        O        
 2   | Intra-area |        O        
 3   | Inter-area |       O IA      
 4   | Inter-area |       O IA      
 5   | External   |     E1 or E2    
 7   | External   |     N1 or N2    

###OSPF Area Types:
- **stub** = 1, 2, 3 + 0.0.0.0 default route
- **total stub** = 1, 2 + 0.0.0.0 default route
- **NSSA** = 1, 2, 3, 7  (0.0.0.0 default route is not automatically created although you can add it)
- **total NSSA** = 1, 2, 7 + 0.0.0.0 default route

Anything that says **"total"** must get the `"no-summary"` on the CLI.

###OSPF Network Types:
* Broadcast
* Non-broadcast
* Point-to-Point
* Point-to-Multipoint
* Point-to-Multipoint (Non-broadcast)

**Mixing network types, combinations that will work:**
>Reason why some network types are not compatible with other is Network Types that use DR election will only be compatible with other types that also elects/requires DR election.

* Broadcast to Broadcast
* Non-Broadcast to Non-Broadcast
* Point-to-Point to Point-to-Point
* Point-to-Multipoint to Point-to-Multipoint
* Broadcast to Non-Broadcast (MUST adjust hello/dead timers to form adjacency)
* Point-to-Point to Point-to-Multipoint (MUST adjust hello/dead timers to form adjacency)

**Point-to-(anything)** does not use a DR.

**(anything)-to-Multipoint** adds a /32 route advertisement. The DR and BDR is the only routers that is REQUIRED to peer with all other routers when **"Multipoint"** networks is used.

###OSPF Network Type Timers (Hello/Dead):
Anything with **"multi"** or **"non"** uses slow timers `(30/120)`, others use fast timers `(10/40)`.
