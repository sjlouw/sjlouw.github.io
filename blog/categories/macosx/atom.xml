<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: macosx | Random Notes]]></title>
  <link href="http://devrandom.za.net/blog/categories/macosx/atom.xml" rel="self"/>
  <link href="http://devrandom.za.net/"/>
  <updated>2015-01-23T15:42:10+02:00</updated>
  <id>http://devrandom.za.net/</id>
  <author>
    <name><![CDATA[S.J. Louw]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Installing Ruby development environment on Mac OS X Mavericks]]></title>
    <link href="http://devrandom.za.net/blog/2014/01/13/installing-ruby-development-environment-on-mac-os-x-mavericks/"/>
    <updated>2014-01-13T16:52:02+02:00</updated>
    <id>http://devrandom.za.net/blog/2014/01/13/installing-ruby-development-environment-on-mac-os-x-mavericks</id>
    <content type="html"><![CDATA[<p><img class="left" src="/images/blog_posts/ruby.png"></p>

<p>Installing Ruby development environment on Mac OS X Mavericks. Ruby on rails with the Ruby version manager, MySQL server and Brew.</p>

<!--more-->


<br>


<br>


<br>


<h2>Installing the prerequisites:</h2>

<p>The Xcode command-line tools is required. This can be installed after you&rsquo;ve installed the full Xcode installation or as a standalone by running the following command:</p>

<p><strong>Installing the Xcode command-line tools:</strong></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>xcode-select &amp;mdash;install
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><a href="http://brew.sh/">Homebrew</a> is my preferred package manager for Mac. It is similar to <a href="http://www.macports.org/">MacPorts</a>.</p>

<p><strong>Installing Homebrew:</strong></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>ruby -e &amp;ldquo;<span class="k">$(</span>curl -fsSL &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://raw.github.com/mxcl/homebrew/go/install&quot;</span>&gt;https://raw.github.com/mxcl/homebrew/go/install&lt;/a&gt;<span class="k">)</span>&amp;rdquo;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>&hellip;after the installation run the following command:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>brew doctor
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Installing MySQL server:</h2>

<p>MySQL server can be installed via Homebrew or just by downloading and installing the <a href="http://dev.mysql.com/downloads/mysql/">official DMG</a> file.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>brew install mysql
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vi ~/.bashrc
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>add <code>export PATH=$PATH:/usr/local/mysql/bin</code> for a DMG installation
or
add <code>export PATH=$PATH:$(brew --prefix mysql)/bin</code> if you installed via Homebrew.</p>

<h2>Installing gcc 4.9</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>brew tap homebrew/versions
</span><span class='line'>brew install gcc49
</span><span class='line'>brew install autoconf automake libtool libyaml readline libksba openssl
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vi ~/.bashrc
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Add the following three lines. Leave them commented out. You can uncomment them when you need gcc as compiler.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;export <span class="nv">CC</span><span class="o">=</span>/usr/local/bin/gcc-4.9&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;export <span class="nv">CPP</span><span class="o">=</span>/usr/local/bin/cpp-4.9&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;export <span class="nv">CXX</span><span class="o">=</span>/usr/local/bin/g++-4.9&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Installing <a href="http://rvm.io/">RVM</a>, the Ruby version manager:</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="se">\c</span>url -L &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://get.rvm.io&quot;</span>&gt;https://get.rvm.io&lt;/a&gt; | bash -s stable
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><strong>Testing if installation was successfull:</strong></p>

<p>After the installation is complete, restart the terminal App and type the following command:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">type </span>rvm | head -n 1
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>You should get the following response:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rvm is a <span class="k">function</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Installing Ruby:</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rvm install ruby-2.0.0-p247
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><strong>Setting and verifying the used Ruby version:</strong></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rvm use 2.0.0-p247
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>ruby -v
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Installing and verifying rails:</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>gem install rails
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rails -v
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Other Ruby gems can now also be installed by just running:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>gem install some_gem
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><a href="http://guides.rubygems.org/command-reference/">Here</a> is the command reference for the <code>gem</code> command.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress blogging engine on GitHub Pages]]></title>
    <link href="http://devrandom.za.net/blog/2013/12/23/octopress-blogging-engine-on-github-pages/"/>
    <updated>2013-12-23T00:44:45+02:00</updated>
    <id>http://devrandom.za.net/blog/2013/12/23/octopress-blogging-engine-on-github-pages</id>
    <content type="html"><![CDATA[<p><img class="left" src="/images/blog_posts/octopress.png"></p>

<p>This is a guide to install Octopress blogging framework on Mac OS X Mavericks. This was done and tested on OS X Mavericks version 10.9.1. You will need to have a GitHub account with SSH keys properly <a href="https://help.github.com/articles/generating-ssh-keys">configured</a> to sucessfully host the Octopress blog on GitHub Pages.</p>

<!--more-->


<br>


<h3>Getting and installing Octopress locally.</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/
</span><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'><span class="nb">cd </span>octopress&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;gem install bundler
</span><span class='line'>bundle install
</span><span class='line'>rake install
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Installing the <a href="https://github.com/kAworu/octostrap3">octostrap3</a> theme:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/octopress/
</span><span class='line'>git clone &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;https://github.com/kAworu/octostrap3&quot;</span>&gt;https://github.com/kAworu/octostrap3&lt;/a&gt; .themes/octostrap3
</span><span class='line'>rake &amp;lsquo;install<span class="o">[</span>octostrap3<span class="o">]</span>&amp;rsquo;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Edit <code>_config.yml</code> with your parameters.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vi ~/octopress/_config.yml
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake generate
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Getting ready for deployment to GitHub Pages:</h3>

<p>Follow this guide to setup SSH key based authentication to Github: <a href="https://help.github.com/articles/generating-ssh-keys">(Reference)</a></p>

<p>Create a new Github repository and name the repository with the format <code>username.github.io</code>, where username is your GitHub user name.</p>

<p>Github Pages for users uses the master branch like the public directory on a web server, serving the files at your Pages url <code>http://username.github.io</code>. As a result, you&rsquo;ll want to work on the source for your blog in the source branch and commit the generated content to the master branch. Octopress has a configuration task that helps you set all this up.</p>

<h3>Prepare Octopress and deploy to GitHub Pages: <a href="http://octopress.org/docs/deploying/github/">(Reference)</a></h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/octopress/
</span><span class='line'>rake setup_github_pages
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Enter the following where <code>username</code> is your username.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git@github.com:username/username.github.io.git
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>This will generate the blog, copy the generated files into <code>_deploy/</code>, add them to git, commit and push them to the master branch.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake generate
</span><span class='line'>rake deploy
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Commit the source for your blog.
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git add .
</span><span class='line'>git commit -m &amp;lsquo;source commit&amp;rsquo;
</span><span class='line'>git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Using Bootstrap labels for categories:</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/octopress/
</span><span class='line'>curl -s -S &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://kaworu.github.io/octopress/downloads/code/category-with-bs-label.patch&quot;</span>&gt;http://kaworu.github.io/octopress/downloads/code/category-with-bs-label.patch&lt;/a&gt; | patch -p1
</span><span class='line'>curl -s -S &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://kaworu.github.io/octopress/downloads/code/category_list.html&quot;</span>&gt;http://kaworu.github.io/octopress/downloads/code/category_list.html&lt;/a&gt; &gt; <span class="nb">source</span>/_includes/custom/asides/category_list.html
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vi _config.yml
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>In section <code>default_asides:</code>, add: <code>custom/asides/category_list.html</code></p>

<h3>Replacing Google search with lunr.js javascript site-search:</h3>

<p>Download some javascript files and move them to the correct path.
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/octopress/
</span><span class='line'>curl -s -S -L &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://raw.github.com/olivernn/lunr.js/master/lunr.min.js&quot;</span>&gt;http://raw.github.com/olivernn/lunr.js/master/lunr.min.js&lt;/a&gt; &gt; <span class="nb">source</span>/javascripts/lunr.min.js
</span><span class='line'>curl -s -S -L &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://github.com/janl/mustache.js/raw/master/mustache.js&quot;</span>&gt;http://github.com/janl/mustache.js/raw/master/mustache.js&lt;/a&gt; &gt; <span class="nb">source</span>/javascripts/mustache.js
</span><span class='line'>curl -s -S -L &lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://github.com/medialize/URI.js/raw/gh-pages/src/URI.min.js&quot;</span>&gt;http://github.com/medialize/URI.js/raw/gh-pages/src/URI.min.js&lt;/a&gt; &gt; <span class="nb">source</span>/javascripts/URI.min.js
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Create a <code>search.json</code> file.</p>

<p><strong>NOTE:</strong> The <code>content</code> line can cause problems and make the search not working. If this is the case, remove the whole <code>content...</code> line from below. This will make only post titles searchable.</p>

<p><code>vi source/search.json</code></p>

<h2><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="err">&lt;/h</span><span class="mi">2</span><span class="err">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="err">&lt;hr</span> <span class="err">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="err">&lt;p&gt;</span><span class="p">[</span>
</span><span class='line'><span class="p">{</span><span class="err">%</span> <span class="err">for</span> <span class="err">post</span> <span class="err">in</span> <span class="err">site.posts</span> <span class="err">%</span><span class="p">}</span><span class="err">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="err">&lt;pre&gt;&lt;code&gt;</span><span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;{{ &quot;</span><span class="p">{</span><span class="err">{</span><span class="nt">&quot; }} post.url }}&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;{{ &quot;</span><span class="p">{</span><span class="err">{</span><span class="nt">&quot; }} post.title }}&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;{{ &quot;</span><span class="p">{</span><span class="err">{</span><span class="nt">&quot; }} post.content | strip_html | strip_newlines | remove:&#39;&quot;</span><span class="err">&#39;</span> <span class="p">}}</span><span class="s2">&quot;,</span>
</span><span class='line'><span class="s2">    &quot;</span><span class="err">date</span><span class="s2">&quot;: &quot;</span><span class="p">{</span><span class="err">{</span> <span class="nt">&quot;{{&quot;</span> <span class="p">}}</span> <span class="err">post.date</span> <span class="err">|</span> <span class="err">date</span><span class="p">:</span><span class="err">&#39;%d</span> <span class="err">%B</span> <span class="err">%Y&#39;</span> <span class="p">}</span><span class="err">}&quot;</span>
</span><span class='line'><span class="err">}</span><span class="p">{</span><span class="err">%</span>  <span class="err">unless</span> <span class="err">forloop.last</span> <span class="err">%</span><span class="p">},{</span><span class="err">%</span> <span class="err">endunless</span> <span class="err">%</span><span class="p">}</span>
</span><span class='line'><span class="err">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="err">&lt;p&gt;</span><span class="p">{</span><span class="err">%</span> <span class="err">endfor</span> <span class="err">%</span><span class="p">}</span>
</span><span class='line'><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Create a <code>search.js</code> file.
<code>vi source/javascripts/search.js</code>
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">lunr</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">boost</span><span class="o">:</span> <span class="mi">10</span><span class="p">});</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s1">&#39;/search.json&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">post</span> <span class="k">in</span> <span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">index</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">json</span><span class="p">[</span><span class="nx">post</span><span class="p">]);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">uri</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URI</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">queryString</span> <span class="o">=</span> <span class="nx">uri</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nx">queryString</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">index</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">queryString</span><span class="p">.</span><span class="nx">q</span><span class="p">.</span><span class="nx">toString</span><span class="p">()).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="nx">json</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">url</span> <span class="o">==</span> <span class="nx">result</span><span class="p">.</span><span class="nx">ref</span><span class="p">;</span> <span class="p">})[</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>        <span class="p">});</span>
</span><span class='line'>        <span class="k">if</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#search-results&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">Mustache</span><span class="p">.</span><span class="nx">to_html</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#search-results-template&quot;</span><span class="p">).</span><span class="nx">text</span><span class="p">(),</span> <span class="p">{</span><span class="nx">posts</span><span class="o">:</span> <span class="nx">results</span><span class="p">}));</span>
</span><span class='line'>        <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">1</span><span class="p">){</span>
</span><span class='line'>            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#no-results&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">Mustache</span><span class="p">.</span><span class="nx">to_html</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#no-results-template&quot;</span><span class="p">).</span><span class="nx">text</span><span class="p">(),</span> <span class="p">{</span><span class="nx">noposts</span><span class="o">:</span> <span class="nx">results</span><span class="p">}));</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Create new search page.
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake new_page<span class="o">[</span>&amp;lsquo;search&amp;rsquo;<span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Edit the newly created search page.
<code>vi source/search/index.markdown</code></p>

<h2><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>layout: default
</span><span class='line'>title: Search<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;h2&gt;</span>footer: true<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://devrandom.za.net/javascripts/libs/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://devrandom.za.net/javascripts/lunr.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://devrandom.za.net/javascripts/URI.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://devrandom.za.net/javascripts/mustache.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://devrandom.za.net/javascripts/search.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;page-header&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>         <span class="nt">&lt;h1&gt;</span>Search Results<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">id=</span><span class="s">&quot;search-results-template&quot;</span> <span class="na">type=</span><span class="s">&quot;text/mustache&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="p">{</span><span class="o">%</span> <span class="nx">raw</span> <span class="o">%</span><span class="p">}</span>
</span><span class='line'><span class="p">{{</span> <span class="err">#</span><span class="nx">posts</span> <span class="p">}}</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;{{ url }}&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="nx">title</span> <span class="p">}}</span><span class="o">&lt;</span><span class="err">/a&gt; - {{ date }}&lt;/li&gt;</span>
</span><span class='line'><span class="p">{{</span> <span class="err">/posts }}</span>
</span><span class='line'><span class="p">{</span><span class="o">%</span> <span class="nx">endraw</span> <span class="o">%</span><span class="p">}</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span><span class='line'><span class="nt">&lt;/script&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">id=</span><span class="s">&quot;no-results-template&quot;</span> <span class="na">type=</span><span class="s">&quot;text/mustache&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="p">{</span><span class="o">%</span> <span class="nx">raw</span> <span class="o">%</span><span class="p">}</span>
</span><span class='line'><span class="p">{{</span> <span class="err">#</span><span class="nx">noposts</span> <span class="p">}}</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">No</span> <span class="nx">search</span> <span class="nx">results</span> <span class="nx">found</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'><span class="p">{{</span> <span class="err">/noposts }}</span>
</span><span class='line'><span class="p">{</span><span class="o">%</span> <span class="nx">endraw</span> <span class="o">%</span><span class="p">}</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span><span class='line'><span class="nt">&lt;/script&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;no-results&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;search-results&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Modify the <code>navigation.html</code> file.
<code>vi source/_includes/custom/navigation.html</code> and replace the line:
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;q&quot;</span> <span class="na">value=</span><span class="s">&quot;site:{{ site.url | shorthand_url }}&quot;</span><span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
with
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span><span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><code>vi _config.yml</code> and replace the line:
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>simple_search: &lt;a href="http://google.com/search">http://google.com/search&lt;/a></span></code></pre></td></tr></table></div></figure></notextile></div>
with
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>simple_search: &lt;a href="http://username.github.io/search">http://username.github.io/search&lt;/a></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Hiding the <code>username.github.io</code> repo from the GitHub aside: <a href="http://blog.codebykat.com/2013/05/20/three-octopress-tweaks/">(Reference)</a></h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/octopress/
</span></code></pre></td></tr></table></div></figure></notextile></div>
<code>vi _config.yml</code></p>

<p>Add the following below the <code>github_skip_forks:</code> tag:
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>github_skip_repos: [username.github.io]</span></code></pre></td></tr></table></div></figure></notextile></div>
If you want to hide more than your GitHub page repo, you can specify all repos that you want to hide like below.
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>github_skip_repos: [username.github.io, another_repo, whatever_repo]</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><code>vi source/_includes/asides/github.html</code>
Add the following line below <code>skip_forks: {{site.github_skip_forks}},</code>
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">skip_repos</span><span class="o">:</span> <span class="p">[</span>  <span class="k">for</span> <span class="nx">repo</span> <span class="k">in</span> <span class="nx">site</span><span class="p">.</span><span class="nx">github_skip_repos</span> <span class="o">%</span><span class="p">}</span><span class="o">&amp;</span><span class="nx">ldquo</span><span class="p">;</span><span class="nx">repo</span><span class="p">}}</span><span class="o">&amp;</span><span class="nx">rdquo</span><span class="p">;</span> <span class="nx">unless</span> <span class="nx">forloop</span><span class="p">.</span><span class="nx">last</span> <span class="o">%</span><span class="p">},</span>  <span class="nx">endunless</span> <span class="o">%</span><span class="p">}</span> <span class="nx">endfor</span> <span class="o">%</span><span class="p">}</span> <span class="p">],</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><code>vi source/javascripts/github.js</code>
Add the following line below <code>if (options.skip_forks &amp;&amp; data.data[i].fork) { continue; }</code>
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span> <span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">skip_repos</span> <span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Custom 404 error page:</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/octopress/
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><code>vi source/404.markdown</code></p>

<h2><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>layout: page
</span><span class='line'>title: <span class="ni">&amp;ldquo;</span>404 Error<span class="ni">&amp;rdquo;</span>
</span><span class='line'>comments: true
</span><span class='line'>sharing: false<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;h2&gt;</span>footer: true<span class="nt">&lt;/h2&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>Sorry, the page you<span class="ni">&amp;#8217;</span>re looking for cannot be found.<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>Please use the search function in the top navigation bar if you<span class="ni">&amp;#8217;</span>re looking for something specific.<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Custom Domain:</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">echo</span> &amp;lsquo;your-domain.com&amp;rsquo; &gt;&gt; <span class="nb">source</span>/CNAME
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Visit your domain registrar or DNS host and add a record for your domain name.
For a sub-domain like <code>www.example.com</code> you would create a <code>CNAME</code> record pointing to <code>username.github.io</code>.
If you are using a top-level domain like <code>example.com</code>, you must use an <code>A</code> record pointing to <code>204.232.175.78</code>.</p>

<h3>Easy deploy/upload new pages script:</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo vi /usr/local/bin/octoupload
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;!/bin/bash&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;cd ~/octopress/&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;rake generate
</span><span class='line'>rake deploy
</span><span class='line'>git add .
</span><span class='line'>git commit -m &amp;lsquo;source commit&amp;rsquo;
</span><span class='line'>git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo chmod +x /usr/local/bin/octoupload
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>New posts:</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/octopress/
</span><span class='line'>rake new_post<span class="o">[</span>&amp;ldquo;My New Post&amp;rdquo;<span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Edit the <code>source/_posts/my-new-post.markdown</code> with any text editor.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake generate
</span><span class='line'>rake preview
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Open <code>http://localhost:4000</code> to see a preview of the blog. When satisfied, the previously created, <code>/usr/local/bin/octoupload</code>, script can be executed to automatically commit all changes and upload to GitHub Pages.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>octoupload
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Free mardown text editors for Mac OS X:</h3>

<ol>
<li><a href="http://mouapp.com/">Mou</a></li>
<li><a href="http://clockworkengine.com/lightpaper-mac/">LightPaper</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fix for Mac OS X not resolving FQDN addresses over VPN]]></title>
    <link href="http://devrandom.za.net/blog/2012/02/18/fix-for-mac-os-x-not-resolving-fqdn-addresses-over-vpn/"/>
    <updated>2012-02-18T00:00:00+02:00</updated>
    <id>http://devrandom.za.net/blog/2012/02/18/fix-for-mac-os-x-not-resolving-fqdn-addresses-over-vpn</id>
    <content type="html"><![CDATA[<p><img class="left" src="/images/blog_posts/dns2.png"></p>

<p>On Mac OS X Lion (This also apply to all later versions of OSX), while connected to VPN, I was not able to resolve hostnames on a remote site. The solution was to create domain resolver files in <code>/etc/resolver</code> named for the different domains the I wanted resolved<!--more-->, for example:</p>

<br>


<br>


<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo mkdir /etc/resolver&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;vi /etc/resolver/yourdomain.com
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Add the following content and save the file:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>nameserver x.x.x.x &lt;&ndash; the DNS server to resolve hosts for yourdomain.com
</span><span class='line'>domain yourdomain.com
</span><span class='line'>port 53</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>You can create as much as needed custom domain resolver files, one for each domain.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mac OS X Lion and Cisco IPSEC VPN pitfalls]]></title>
    <link href="http://devrandom.za.net/blog/2012/02/12/mac-os-x-lion-and-cisco-ipsec-vpn-pitfalls/"/>
    <updated>2012-02-12T00:00:00+02:00</updated>
    <id>http://devrandom.za.net/blog/2012/02/12/mac-os-x-lion-and-cisco-ipsec-vpn-pitfalls</id>
    <content type="html"><![CDATA[<p><img class="left" src="/images/blog_posts/cisco_vpn.png"></p>

<p>The Mac OS X Lion, Native VPN client, with Cisco IPSEC EasyVPN Server was NOT working properly for myself. The problem I faced was that traffic was NOT passed to the remote LAN when connected to VPN. Split-tunnel and normal EasyVPN setups did NOT work.</p>

<!--more-->


<br>


<br>


<ol>
<li><p><strong>When presented with a split-tunnel ACL the Apple client will create a proxy pair for each line.</strong></p>

<ul>
<li><p>i.e. VPN IP address of A with a split ACL of:</p>

<ul>
<li>permit B</li>
<li>permit C</li>
<li>permit D</li>
</ul>
</li>
</ul>


<p> You would see an ipsec sa from A to B, A to C, and A to D.</p></li>
<li><p><strong>When presented with a split-tunnel ACL the Cisco client will create a single ipsec sa:</strong></p>

<ul>
<li>i.e. A to any</li>
</ul>


<p>However the client will only route traffic to B, C, D over the tunnel.</p></li>
</ol>


<p>This is fine and has no problems when using a crypto map style setup for Cisco EasyVPN.</p>

<p>However when you configure the use of dVTI this becomes difficult.  This is because the VTI can only support 1 ipsec sa built to it.  As a results when the Apple client tries to propose the proxy pair for the A to C entry it is rejected.</p>

<p>This leaves you with two options here:</p>

<ol>
<li>Switch to a tunnel-all configuration</li>
<li>Switch back to the crypto map configuration rather than the virtual-template configuration.</li>
</ol>


<p><a href="https://supportforums.cisco.com/thread/2095921">Reference</a></p>

<h3>I chose to take the &ldquo;old&rdquo; crypto map style setup. Here&rsquo;s how I made it work on a Cisco 877 DSL router:</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ip nat inside source route-map NAT interface Dialer0 overload&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>route-map NAT permit 10
</span><span class='line'>match ip address 111
</span><span class='line'>exit&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>access-list 101  remark &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;
</span><span class='line'>access-list 101  remark &lt;strong>&lt;strong>&lt;em>VPN Access-list&lt;/em>&lt;/strong>&lt;/strong>
</span><span class='line'>access-list 101  permit ip 172.16.20.0 0.0.0.255 172.16.40.0 0.0.0.15
</span><span class='line'>!
</span><span class='line'>access-list 111  remark &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;
</span><span class='line'>access-list 111  remark &lt;strong>&lt;strong>&lt;em>DENY Local LAN to VPN Traffic&lt;/em>&lt;/strong>&lt;/strong>
</span><span class='line'>access-list 111  deny ip 172.16.20.0 0.0.0.255 172.16.40.0 0.0.0.15
</span><span class='line'>access-list 111  remark &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;
</span><span class='line'>access-list 111  remark &lt;strong>&lt;strong>&lt;em>PERMIT Networks Internet Access&lt;/em>&lt;/strong>&lt;/strong>
</span><span class='line'>access-list 111  permit ip 172.16.20.0 0.0.0.255 any
</span><span class='line'>access-list 111  permit ip any any&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>aaa new-model
</span><span class='line'>aaa authentication login userauth local
</span><span class='line'>aaa authorization network groupauth local&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>username myusername password 0 mypassword&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>crypto isakmp policy 3
</span><span class='line'>encryption 3des
</span><span class='line'>authentication pre-share
</span><span class='line'>group 2
</span><span class='line'>lifetime 86400
</span><span class='line'>exit&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>crypto isakmp client configuration group my_vpn
</span><span class='line'>key mysecretgroupkey
</span><span class='line'>dns 172.16.20.1 8.8.8.8
</span><span class='line'>domain my.domain
</span><span class='line'>pool my_vpn_pool
</span><span class='line'>acl 101
</span><span class='line'>max-logins 10
</span><span class='line'>max users 10
</span><span class='line'>save-password
</span><span class='line'>split-dns my.domain
</span><span class='line'>include-local-lan
</span><span class='line'>exit&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>crypto ipsec transform-set my_set esp-3des esp-md5-hmac
</span><span class='line'>exit&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>crypto dynamic-map dynmap 10
</span><span class='line'>set transform-set my_set
</span><span class='line'>set security-association idle-time 900
</span><span class='line'>reverse-route
</span><span class='line'>exit&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>crypto map clientmap client authentication list userauth
</span><span class='line'>crypto map clientmap isakmp authorization list groupauth
</span><span class='line'>crypto map clientmap client configuration address respond
</span><span class='line'>crypto map clientmap 10 ipsec-isakmp dynamic dynmap&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>ip local pool my_vpn_pool 172.16.40.2 172.16.40.8&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>interface Dialer0
</span><span class='line'>ip nat outside
</span><span class='line'>crypto map clientmap&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>interface vlan1
</span><span class='line'>no autostate
</span><span class='line'>ip nat inside</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>I have tested this setup with Mac OS X Lion VPN client and with iPhone IOS 5.0.1. All is working well now. Yeeaay!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AppleScript applications with Xcode 3.2.2]]></title>
    <link href="http://devrandom.za.net/blog/2010/05/03/applescript-applications-with-xcode-3-dot-2-2/"/>
    <updated>2010-05-03T00:00:00+02:00</updated>
    <id>http://devrandom.za.net/blog/2010/05/03/applescript-applications-with-xcode-3-dot-2-2</id>
    <content type="html"><![CDATA[<p><img class="left" src="/images/blog_posts/xcode.png"></p>

<p>Xcode 3.2.2 on Snow Leopard does not support building new AppleScript applications anymore. It does allow you to edit pre-builded AppleScript projects, but you need to enable the AppleScript Studio palette in Xcode, which is hidden&hellip; I&rsquo;ve build an installer package that will take care of it all and restore this feature in Xcode 3.2.2.</p>

<p>What it does is to automatically install &ldquo;AppleScript Application&rdquo;, &ldquo;AppleScript Automator Action&rdquo; and &ldquo;AppleScript Droplet&rdquo;<!--more-->new project templates to &ldquo;<code>/Developer/Library/Xcode/Project Templates/Application/</code>&rdquo;. This package will also automatically enable the hidden AppleScript Studio palette with the following command:</p>

<p><code>defaults write com.apple.InterfaceBuilder3 IBEnableAppleScriptStudioSupport -bool YES</code></p>

<p><a href="http://www.mediafire.com/?2zyzmoojjgz">Download</a> the Installer Package</p>

<h2>Quick start AppleScript application guide:</h2>

<p>Open Xcode and click &ldquo;Create a new Xcode project&rdquo;. You will be presented with the following screen:</p>

<p><img class="center" src="/images/blog_posts/applescript1.png"></p>

<p>On the right, click on &ldquo;AppleScript Application&rdquo; and then the &ldquo;Choose&rdquo; button. Give your project a name and click &ldquo;Save&rdquo;. You will be presented with the following screen:</p>

<p><img class="center" src="/images/blog_posts/applescript2.png"></p>

<p>Double click the <code>MainMenu.xib</code> file for the Interface Builder App to open up. In the Library pane, as shown below, type &ldquo;button&rdquo; in the search area. All button options will be shown:</p>

<p><img class="center" src="/images/blog_posts/applescript3.png"></p>

<p>Drag your button to the blank Window UI that you are designing:</p>

<p><img class="center" src="/images/blog_posts/applescript4.png"></p>

<p>We now need to link the button to our scripting code. Single click on the button and go to the Inspector AppleScript tab as shown below. Make the changes where marked in red:</p>

<p><img class="center" src="/images/blog_posts/applescript5.png"></p>

<p>In the Interface Builder main menu, click File and then Save. Close Interface Builder. You will now be back at the following screen:</p>

<p><img class="center" src="/images/blog_posts/applescript6.png"></p>

<p>Single click on <code>yourProject.applescript</code> to reveal the code. Add your code to the area where it says <code>"(Add your script here.*)"</code>. Then lastly click the &ldquo;Build and Run&rdquo; button. You will now have an App that will do what the code tells it to when the button is clicked!</p>
]]></content>
  </entry>
  
</feed>
