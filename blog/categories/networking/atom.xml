<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: networking | Random Notes]]></title>
  <link href="http://devrandom.za.net/blog/categories/networking/atom.xml" rel="self"/>
  <link href="http://devrandom.za.net/"/>
  <updated>2014-12-15T16:07:14+02:00</updated>
  <id>http://devrandom.za.net/</id>
  <author>
    <name><![CDATA[S.J. Louw]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[OSPF LSA's, Area Types, Network Types and Timers]]></title>
    <link href="http://devrandom.za.net/blog/2014/12/14/ospf-lsas-areas-networks-timers/"/>
    <updated>2014-12-14T22:41:32+02:00</updated>
    <id>http://devrandom.za.net/blog/2014/12/14/ospf-lsas-areas-networks-timers</id>
    <content type="html"><![CDATA[<p><img class="left" src="/images/blog_posts/ospf.png"></p>

<p>My shortish summarized version of the OSPF Link State Advertisements, Area Types, Network Types and Timers.</p>

<!--more-->


<br>


<br>


<br>


<h3>OSPF Link State Advertisements (LSA&rsquo;s):</h3>

<br>


<table>
<thead>
<tr>
<th align="center"> LSA </th>
<th align="left">      Name     </th>
<th align="left">                 Description                 </th>
<th align="left">                       Area                       </th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"> 1   </td>
<td align="left"> Router LSA    </td>
<td align="left">  Generated by Any router for any/all links  </td>
<td align="left">                    Intra-area                    </td>
</tr>
<tr>
<td align="center"> 2   </td>
<td align="left"> Network LSA   </td>
<td align="left">   Generated by a DR only for DR-used-links  </td>
<td align="left">                    Intra-area                    </td>
</tr>
<tr>
<td align="center"> 3   </td>
<td align="left"> Summary LSA   </td>
<td align="left">    Generated by ABRs to summarize 1 &amp; 2&rsquo;s   </td>
<td align="left">                    Inter-area                    </td>
</tr>
<tr>
<td align="center"> 4   </td>
<td align="left"> ASBR Summary  </td>
<td align="left"> Generated by ABRs to summarize NH of Type 5 </td>
<td align="left">                    Inter-area                    </td>
</tr>
<tr>
<td align="center"> 5   </td>
<td align="left"> External LSA  </td>
<td align="left">              Generated by ASBR              </td>
<td align="left">        Domain-wide (other than stub areas)       </td>
</tr>
<tr>
<td align="center"> 7   </td>
<td align="left"> NSSA External </td>
<td align="left">   Generated by ASBR specific to NSSA area   </td>
<td align="left"> NSSA only &ndash; Translated to Type 5 for other areas</td>
</tr>
</tbody>
</table>


<br>


<p><strong>1</strong> &ndash; Originated by all routers to tell the other routers in the area about their connected links.</p>

<p><strong>2</strong> &ndash; Originated by the DR in the area. Simplifies the graph of the area when there are multiple routers on the same segment.</p>

<p><strong>3</strong> &ndash; Originated by the ABR. Describes routes in other areas.</p>

<p><strong>4</strong> &ndash; Originated by the ABR. Describes inter-area reachability to a router that performed redistribution.</p>

<p><strong>5</strong> &ndash; Originated by the ASBR that performs the redistribution. Describes redistributed routes from another protocol.</p>

<p><strong>7</strong> &ndash; Originated by the ASBR, but ONLY applies to NSSA external areas. (Converted to type 5 LSA when the ABR of the NSSA originates them into area 0)</p>

<br>


<table>
<thead>
<tr>
<th align="center">LSA </th>
<th align="center">    Area    </th>
<th align="center"> RIB Indentifier </th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"> 1   </td>
<td align="center"> Intra-area </td>
<td align="center">        O        </td>
</tr>
<tr>
<td align="center"> 2   </td>
<td align="center"> Intra-area </td>
<td align="center">        O        </td>
</tr>
<tr>
<td align="center"> 3   </td>
<td align="center"> Inter-area </td>
<td align="center">       O IA      </td>
</tr>
<tr>
<td align="center"> 4   </td>
<td align="center"> Inter-area </td>
<td align="center">       O IA      </td>
</tr>
<tr>
<td align="center"> 5   </td>
<td align="center"> External   </td>
<td align="center">     E1 or E2    </td>
</tr>
<tr>
<td align="center"> 7   </td>
<td align="center"> External   </td>
<td align="center">     N1 or N2    </td>
</tr>
</tbody>
</table>


<h3>OSPF Area Types:</h3>

<ul>
<li><strong>stub</strong> = 1, 2, 3 + 0.0.0.0 default route</li>
<li><strong>total stub</strong> = 1, 2 + 0.0.0.0 default route</li>
<li><strong>NSSA</strong> = 1, 2, 3, 7  (0.0.0.0 default route is not automatically created although you can add it)</li>
<li><strong>total NSSA</strong> = 1, 2, 7 + 0.0.0.0 default route</li>
</ul>


<p>Anything that says <strong>&ldquo;total&rdquo;</strong> must get the <code>"no-summary"</code> on the CLI.</p>

<h3>OSPF Network Types:</h3>

<ul>
<li>Broadcast</li>
<li>Non-broadcast</li>
<li>Point-to-Point</li>
<li>Point-to-Multipoint</li>
<li>Point-to-Multipoint (Non-broadcast)</li>
</ul>


<p><strong>Mixing network types, combinations that will work:</strong></p>

<blockquote><p>Reason why some network types are not compatible with other is Network Types that use DR election will only be compatible with other types that also elects/requires DR election.</p></blockquote>

<ul>
<li>Broadcast to Broadcast</li>
<li>Non-Broadcast to Non-Broadcast</li>
<li>Point-to-Point to Point-to-Point</li>
<li>Point-to-Multipoint to Point-to-Multipoint</li>
<li>Broadcast to Non-Broadcast (MUST adjust hello/dead timers to form adjacency)</li>
<li>Point-to-Point to Point-to-Multipoint (MUST adjust hello/dead timers to form adjacency)</li>
</ul>


<p><strong>Point-to-(anything)</strong> does not use a DR.</p>

<p><strong>(anything)-to-Multipoint</strong> adds a /32 route advertisement. The DR and BDR is the only routers that is REQUIRED to peer with all other routers when <strong>&ldquo;Multipoint&rdquo;</strong> networks is used.</p>

<h3>OSPF Network Type Timers (Hello/Dead):</h3>

<p>Anything with <strong>&ldquo;multi&rdquo;</strong> or <strong>&ldquo;non&rdquo;</strong> uses slow timers <code>(30/120)</code>, others use fast timers <code>(10/40)</code>.</p>
]]></content>
  </entry>
  
</feed>
